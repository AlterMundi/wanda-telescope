{% extends "base.html" %}

{% block additional_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/modern-ui.css') }}">
{% endblock %}

{% block content %}
<div class="main-flex-layout">
    <!-- Left: Menu Panel with Tabs -->
    <div class="menu-panel">
        <div class="menu-tabs">
            <button class="menu-tab active" data-tab="camera">Camera</button>
            <button class="menu-tab" data-tab="mount">Mount</button>
            <button class="menu-tab" data-tab="session">Session</button>
        </div>
        <div class="menu-content">
            <div class="tab-content tab-camera active" id="tab-camera">
                {% include "components/camera-controls.html" %}
            </div>
            <div class="tab-content tab-mount" id="tab-mount">
                {% include "components/mount-controls.html" %}
            </div>
            <div class="tab-content tab-session" id="tab-session">
                {% include "components/session-controls.html" %}
            </div>
        </div>
    </div>
    <!-- Right: Camera Viewport -->
    <div class="camera-panel">
        <div class="camera-viewport">
            <img src="{{ url_for('video_feed') }}" alt="Camera Feed">
        </div>
    </div>
</div>
<!-- Status bar at the bottom -->
<div class="status-bar">
    <div id="countdown"></div>
    <div id="status_display">{{ capture_status }}</div>
    <div>Saving to: {{ capture_dir }}</div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/camera-controls.js') }}"></script>
<script src="{{ url_for('static', filename='js/mount-controls.js') }}"></script>
<script src="{{ url_for('static', filename='js/session-controls.js') }}"></script>
<script src="{{ url_for('static', filename='js/modern-ui.js') }}"></script>
{% endblock %}