<div class="ui-controls">
    <form id="session-form" action="{{ url_for('start_session') }}" method="post" class="ui-form" data-component="session">
        <section class="ui-control-group">
            <header class="ui-control-header">
                <span class="ui-control-title">Session Details</span>
            </header>
            <div class="ui-control-body">
                <div class="ui-field">
                    <label for="session-name" class="ui-field__label">Session Name</label>
                    <input id="session-name" type="text" name="session_name" placeholder="e.g., moon_sequence" required class="ui-input">
                </div>
                <div class="ui-field">
                    <label for="total-images" class="ui-field__label">Total Images</label>
                    <input id="total-images" type="number" name="total_images" min="1" max="1000" value="10" required class="ui-input">
                </div>
                <div class="ui-field-grid">
                    <div class="ui-field">
                        <label for="total-time-hours" class="ui-field__label">Hours</label>
                        <input id="total-time-hours" type="number" name="total_time_hours" min="0" max="99" placeholder="0" class="ui-input">
                    </div>
                    <div class="ui-field">
                        <label for="total-time-minutes" class="ui-field__label">Minutes</label>
                        <input id="total-time-minutes" type="number" name="total_time_minutes" min="0" max="59" placeholder="0" class="ui-input">
                    </div>
                </div>
                <p class="ui-field__hint">Leave timing blank to capture as quickly as sensor allows.</p>
            </div>
        </section>

        <section class="ui-control-group">
            <header class="ui-control-header">
                <span class="ui-control-title">Options</span>
            </header>
            <div class="ui-control-body">
                <label class="ui-toggle">
                    <input type="checkbox" name="use_current_settings" checked>
                    <span class="ui-toggle__label">Use Current Camera Settings</span>
                </label>
                <label class="ui-toggle">
                    <input type="checkbox" name="enable_tracking">
                    <span class="ui-toggle__label">Enable Mount Tracking</span>
                </label>
            </div>
        </section>

        <div class="ui-form__actions">
            <button type="submit" class="ui-button ui-button--primary" id="start-session-btn">Start Session</button>
        </div>
    </form>

    <div class="ui-divider"></div>

    <form action="{{ url_for('stop_session') }}" method="post" id="stop-session-form" class="ui-hidden">
        <button type="submit" class="ui-button ui-button--destructive" id="stop-session-btn">Stop Session</button>
    </form>

    <section id="session-progress" class="ui-panel ui-hidden" data-session-progress>
        <header class="ui-panel__header">
            <h3 class="ui-panel__title">Session Progress</h3>
            <span class="ui-badge" data-session-state>Preparing</span>
        </header>
        <div class="ui-progress">
            <div class="ui-progress__bar">
                <div class="ui-progress__fill" id="progress-fill"></div>
            </div>
            <span class="ui-progress__value" id="progress-text">0%</span>
        </div>
        <dl class="ui-summary">
            <div>
                <dt>Session</dt>
                <dd id="session-name" data-session-name>-</dd>
            </div>
            <div>
                <dt>Frames</dt>
                <dd id="session-count" data-session-count>0 / 0</dd>
            </div>
            <div>
                <dt>Elapsed</dt>
                <dd id="session-time" data-session-time>0s</dd>
            </div>
            <div id="session-time-info" data-session-time-info class="ui-hidden"></div>
        </dl>
    </section>

    <div class="ui-status" id="session-status" data-session-status-message>Ready to start session</div>
</div> 